"use strict";var smoothScrollOnClick={init:function(){for(var n=this,e=document.querySelectorAll('a[href^="#"]'),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var t=document.querySelector(e.currentTarget.getAttribute("href"));n.scroll(t),history.replaceState(void 0,void 0,e.currentTarget.getAttribute("href"))})},scroll:function(e){window.scrollTo({behavior:"smooth",top:e.offsetTop-80})}},explanationSlider={init:function(){var e=this;document.querySelector(".explanation__slider")&&(explanationSlider.slider=new Siema({selector:".explanation__slider",onChange:function(){e.change()}}),document.querySelector(".explanation__button--prev").addEventListener("click",function(){e.slider.prev()}),document.querySelector(".explanation__button--next").addEventListener("click",function(){e.slider.next()}))},change:function(){switch(document.querySelector(".explanation__dot--active").classList.remove("explanation__dot--active"),document.querySelector(".explanation__dot--"+this.slider.currentSlide.toString()).classList.add("explanation__dot--active"),this.slider.currentSlide){case 0:document.querySelector(".explanation__button--prev").classList.add("explanation__button--disabled"),document.querySelector(".explanation__button--next").classList.remove("explanation__button--disabled");break;case 2:document.querySelector(".explanation__button--next").classList.add("explanation__button--disabled"),document.querySelector(".explanation__button--prev").classList.remove("explanation__button--disabled");break;default:document.querySelector(".explanation__button--prev").classList.remove("explanation__button--disabled"),document.querySelector(".explanation__button--next").classList.remove("explanation__button--disabled")}}},calculationSlider={init:function(){var e=this;if(document.getElementById("calculator-home")){var n=document.getElementById("calculator__slider--downstream"),i=document.getElementById("calculator__slider--fluzzer"),o=document.getElementById("calculator__slider--personal");noUiSlider.create(n,{start:2500,connect:[!0,!1],step:1,range:{min:1,max:65534}}),n.noUiSlider.on("update",function(e,t){n.nextElementSibling.value=Math.round(e[t]),n.noUiSlider&&i.noUiSlider&&o.noUiSlider&&calculationSlider.calculateTotals(n,i,o)}),n.nextElementSibling.addEventListener("change",function(){n.noUiSlider.set(e.value)}),noUiSlider.create(i,{start:100,connect:[!0,!1],step:1,range:{min:50,max:2500}}),i.noUiSlider.on("update",function(e,t){i.nextElementSibling.value=Math.round(e[t]),n.noUiSlider&&i.noUiSlider&&o.noUiSlider&&calculationSlider.calculateTotals(n,i,o)}),i.nextElementSibling.addEventListener("change",function(){i.noUiSlider.set(e.value)}),noUiSlider.create(o,{start:150,connect:[!0,!1],step:1,range:{min:50,max:2500}}),o.noUiSlider.on("update",function(e,t){o.nextElementSibling.value=Math.round(e[t]),n.noUiSlider&&i.noUiSlider&&o.noUiSlider&&calculationSlider.calculateTotals(n,i,o)}),o.nextElementSibling.addEventListener("change",function(){o.noUiSlider.set(e.value)})}if(document.getElementById("calculator-utilities")){var a=document.getElementById("calculator__slider--downstream"),l=document.getElementById("calculator__slider--fluzzer"),r=document.getElementById("calculator__slider--personal"),d=document.getElementById("calculator__slider--spendings");noUiSlider.create(a,{start:2500,connect:[!0,!1],step:1,range:{min:1,max:65534}}),a.noUiSlider.on("update",function(e,t){a.nextElementSibling.value=Math.round(e[t]),d.noUiSlider&&l.noUiSlider&&r.noUiSlider&&d.noUiSlider&&calculationSlider.calculateReward(a,l,r,d)}),a.nextElementSibling.addEventListener("change",function(){a.noUiSlider.set(e.value)}),noUiSlider.create(l,{start:100,connect:[!0,!1],step:1,range:{min:50,max:2500}}),l.noUiSlider.on("update",function(e,t){l.nextElementSibling.value=Math.round(e[t]),d.noUiSlider&&l.noUiSlider&&r.noUiSlider&&d.noUiSlider&&calculationSlider.calculateReward(a,l,r,d)}),l.nextElementSibling.addEventListener("change",function(){l.noUiSlider.set(e.value)}),noUiSlider.create(r,{start:150,connect:[!0,!1],step:1,range:{min:50,max:2500}}),r.noUiSlider.on("update",function(e,t){r.nextElementSibling.value=Math.round(e[t]),d.noUiSlider&&l.noUiSlider&&r.noUiSlider&&d.noUiSlider&&calculationSlider.calculateReward(a,l,r,d)}),r.nextElementSibling.addEventListener("change",function(){r.noUiSlider.set(e.value)}),noUiSlider.create(d,{start:1e3,connect:[!0,!1],step:1,range:{min:1,max:1e5}}),d.noUiSlider.on("update",function(e,t){d.nextElementSibling.value=Math.round(e[t]),d.noUiSlider&&l.noUiSlider&&r.noUiSlider&&d.noUiSlider&&calculationSlider.calculateReward(a,l,r,d)}),d.nextElementSibling.addEventListener("change",function(){d.noUiSlider.set(e.value)})}if(document.getElementById("calculator-utilities-seats")){var c=document.getElementById("calculator__slider--number"),u=document.getElementById("calculator__slider--price"),s=document.getElementById("calculator__slider--month-earnings"),m=document.getElementById("calculator__slider--year-earnings"),S=document.getElementById("calculator__slider--cashback");noUiSlider.create(c,{start:9820,connect:[!0,!1],step:1,range:{min:1,max:65534}}),c.noUiSlider.on("update",function(e,t){c.nextElementSibling.value=Math.round(e[t]),c.noUiSlider&&u.noUiSlider&&s.noUiSlider&&m.noUiSlider&&S.noUiSlider&&calculationSlider.calculateSeatValue(c,u,s,m,S)}),c.nextElementSibling.addEventListener("change",function(){c.noUiSlider.set(e.value)}),noUiSlider.create(u,{start:.1,connect:[!0,!1],step:.1,range:{min:.1,max:100}}),u.noUiSlider.on("update",function(e,t){u.nextElementSibling.value=e[t],c.noUiSlider&&u.noUiSlider&&s.noUiSlider&&m.noUiSlider&&S.noUiSlider&&calculationSlider.calculateSeatValue(c,u,s,m,S)}),u.nextElementSibling.addEventListener("change",function(){u.noUiSlider.set(e.value)}),noUiSlider.create(s,{start:500,connect:[!0,!1],step:1,range:{min:10,max:5e3}}),s.noUiSlider.on("update",function(e,t){s.nextElementSibling.value=Math.round(e[t]),c.noUiSlider&&u.noUiSlider&&s.noUiSlider&&m.noUiSlider&&S.noUiSlider&&calculationSlider.calculateSeatValue(c,u,s,m,S)}),s.nextElementSibling.addEventListener("change",function(){s.noUiSlider.set(e.value)}),noUiSlider.create(m,{start:5e3,connect:[!0,!1],step:1,range:{min:2500,max:1e5}}),m.noUiSlider.on("update",function(e,t){m.nextElementSibling.value=Math.round(e[t]),c.noUiSlider&&u.noUiSlider&&s.noUiSlider&&m.noUiSlider&&S.noUiSlider&&calculationSlider.calculateSeatValue(c,u,s,m,S)}),m.nextElementSibling.addEventListener("change",function(){m.noUiSlider.set(e.value)}),noUiSlider.create(S,{start:0,connect:[!0,!1],step:1,range:{min:0,max:1e5}}),S.noUiSlider.on("update",function(e,t){S.nextElementSibling.value=Math.round(e[t]),c.noUiSlider&&u.noUiSlider&&s.noUiSlider&&m.noUiSlider&&S.noUiSlider&&calculationSlider.calculateSeatValue(c,u,s,m,S)}),S.nextElementSibling.addEventListener("change",function(){S.noUiSlider.set(e.value)})}},calculateReward:function(e,t,n,i){var o=100*(.027+.1*.1),a=n.noUiSlider.get()*o*.01*.5,l=i.noUiSlider.get()*t.noUiSlider.get()*o*.01*.5/15,r=a+t.noUiSlider.get()*o*.01*.5*e.noUiSlider.get()/15+l;document.querySelector(".calculator__result__income").innerHTML="$"+parseFloat(r).toFixed(2).toLocaleString(void 0,{maximumFractionDigits:2})},calculateTotals:function(e,t,n){var i=100*(.027+.1*.1);document.querySelector(".calculator__result__income").innerHTML="$"+(n.noUiSlider.get()*i*.01*.5+t.noUiSlider.get()*i*.01*.5*e.noUiSlider.get()/15).toLocaleString(void 0,{maximumFractionDigits:2})},calculateSeatValue:function(e,t,n,i,o){var a=n.noUiSlider.get(),l=i.noUiSlider.get(),r=e.noUiSlider.get(),d=o.noUiSlider.get(),c=(l-a)/11,u=Math.pow(a/c,1/6)-1,s=l/12,m=Math.min(a/s,1);u=Math.min(.045*m,u),u=Math.max(.01*m,u);for(var S=Math.pow(u+1,12)-1,p=15e3*t.noUiSlider.get(),v=[],g=r,_=0,h=1;h<=10;h++){var f=Math.min(1.3*g,65534),U=f/g-1,y=l*Math.pow(1+S,h)*(1+U);v.push({year:h,year_earnings:y}),g=f,_+=y/Math.pow(1.55,h)}document.querySelector(".calculator__result__value").innerHTML="$"+parseFloat(parseFloat(_)+parseFloat(p)+parseFloat(d)).toFixed(2).toLocaleString(void 0,{maximumFractionDigits:2}),v.forEach(function(e){var t=document.querySelector("#year-"+e.year),n=t.childNodes[0],i=t.childNodes[1];n.innerHTML=e.year,i.innerHTML="$"+parseFloat(e.year_earnings).toFixed(2).toLocaleString(void 0,{maximumFractionDigits:2})})}},testimonialsSlider={init:function(){var e=this;document.querySelector(".testimonials__slider")&&(this.slider=new Siema({selector:".testimonials__slider",loop:!0,onChange:function(){e.change()}}),document.querySelector(".testimonials__button--prev").addEventListener("click",function(){e.slider.prev()}),document.querySelector(".testimonials__button--next").addEventListener("click",function(){e.slider.next()}))},change:function(){document.querySelector(".testimonials__dot--active").classList.remove("testimonials__dot--active"),document.querySelector(".testimonials__dot--"+this.slider.currentSlide.toString()).classList.add("testimonials__dot--active")}},popupActions={init:function(){for(var i=document.querySelectorAll("[data-popup]"),e=function(e){var n=document.getElementById(i[e].dataset.popup+"-popup"),t=n.childNodes[0].childNodes[0];i[e].addEventListener("click",function(e){if(n.classList.add("popup--open"),n.classList.remove("popup--close"),n.hasAttribute("data-has-autoplay")){var t=!!n.hasAttribute("data-has-fullscreen");videoPlayer.play(n.getAttribute("data-has-video"),t)}}),t.addEventListener("click",function(e){n.classList.remove("popup--open"),n.classList.add("popup--close"),n.hasAttribute("data-has-video")&&videoPlayer.videos[n.getAttribute("data-has-video")].stopVideo()}),n.addEventListener("click",function(e){e.target===n&&(n.classList.remove("popup--open"),n.classList.add("popup--close"),n.hasAttribute("data-has-video")&&videoPlayer.videos[n.getAttribute("data-has-video")].stopVideo())})},t=0;t<i.length;t++)e(t)},show:function(){for(var e=document.querySelectorAll(".popup"),t=0;t<e.length;t++){e[t].classList.add("popup--loaded")}}},videoPlayer={videos:{},init:function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},show:function(){var i=this;document.querySelectorAll("[data-video-id]").forEach(function(e){var t=e.getAttribute("data-video-id"),n=new YT.Player(e,{videoId:t,frameBorder:0,allowFullscreen:1});(i.videos[t]=n).getIframe().parentNode.childNodes[0].addEventListener("click",function(e){e.preventDefault(),i.play(t),videoPlayer.play(n.getVideoData().video_id)})})},play:function(e){var t=videoPlayer.videos[e].getIframe().parentNode.childNodes[0],n=this.videos[e];t.classList.add(t.classList[0]+"--hide"),n.getIframe().classList.add(n.getIframe().classList[0]+"--show"),n.playVideo()}},emailSubmission={init:function(){document.querySelectorAll(".ea-form").forEach(function(e,t){e.addEventListener("submit",function(e){var t=e.currentTarget,n=t.querySelector(".ea-state"),i=t.querySelector(".ea-email"),o=t.querySelector(".ea-success-msg"),a=t.querySelector(".ea-error-msg"),l=from.querySelector(".ea-type");e.preventDefault(),n.classList.add("popup__state--loading");var r=new XMLHttpRequest;r.open("POST","https://er23rhpd55.execute-api.eu-west-1.amazonaws.com/production/subscribe"),r.setRequestHeader("Content-Type","application/json"),r.onload=function(){var e=JSON.parse(r.responseText);n.classList.remove("popup__state--loading"),"error"===e.type?(n.classList.add("popup__state--error"),a.classList.add("popup__message--shown")):(n.classList.add("popup__state--success"),o.classList.add("popup__message--shown")),setTimeout(function(){n.classList.remove("popup__state--error"),n.classList.remove("popup__state--success"),a.classList.remove("popup__message--shown"),o.classList.remove("popup__message--shown")},4e3)},r.send(JSON.stringify({email:i.value,type:l.value}))})})}},scroll={preventDefault:function(e){(e=e||window.event).preventDefault&&e.preventDefault(),e.returnValue=!1},disableScroll:function(){window.addEventListener&&window.addEventListener("DOMMouseScroll",this.preventDefault,!1),window.onwheel=this.preventDefault,window.onmousewheel=document.onmousewheel=this.preventDefault,window.ontouchmove=this.preventDefault},enableScroll:function(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",this.preventDefault,!1),window.onmousewheel=document.onmousewheel=null,window.onwheel=null,window.ontouchmove=null}},increaseButtons={init:function(){var n=this;document.getElementById("tier_1_seat_count")&&(this.calculateSeats(),document.querySelectorAll("[data-decrease-number]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById(e.currentTarget.dataset.decreaseNumber);0<t.value&&(t.value=--t.value,n.calculateSeats())})}),document.querySelectorAll("[data-increase-number]").forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();var t=document.getElementById(e.currentTarget.dataset.increaseNumber);t.value=++t.value,n.calculateSeats()})}))},calculateSeats:function(){var e=document.getElementById("tier_1_seat_count"),t=document.getElementById("tier_2_seat_count"),n=document.getElementById("investment-needed"),i=document.getElementById("investment-details"),o=2e4*e.value+1e4*t.value;n.innerText=this.addCommas(o),i.innerHTML="With the above selection you will need to own <b>"+this.addCommas(o)+" FLUZ</b>"},addCommas:function(e){for(var t=(e+="").split("."),n=t[0],i=1<t.length?"."+t[1]:"",o=/(\d+)(\d{3})/;o.test(n);)n=n.replace(o,"$1,$2");return n+i}},countDown={init:function(){document.getElementById("countdown-days")&&Doom({targetDate:"07/27/2018",targetTime:"9:00:00",addZero:!1,ids:{days:"countdown-days",hours:"countdown-hours",mins:"countdown-minutes",secs:"countdown-seconds"}}).doom()}},mobileMenu={init:function(){document.getElementById("mobile-menu")&&document.getElementById("mobile-menu").addEventListener("click",function(e){e.currentTarget.classList.toggle("header__burger--open")})}};function onYouTubeIframeAPIReady(){videoPlayer.show()}mobileMenu.init(),increaseButtons.init(),popupActions.init(),smoothScrollOnClick.init(),explanationSlider.init(),calculationSlider.init(),testimonialsSlider.init(),videoPlayer.init(),emailSubmission.init(),countDown.init(),window.onload=function(){popupActions.show()};